
<!-- <div *ngIf="authService.preloader" class="preloader-container">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div> -->
  <div class="row h-100 messenger-container flex-column flex-md-row"*ngFor="let parent of parents">
    <div class="col-12 col-md-3 col-lg-2 p-0 sidebar container">
      <!-- Children Section -->
      <h4>Children</h4>
      <div class="students-container">
          <div class="student-item" *ngFor="let student of parent.students" (click)="selectStudent(student)" style="cursor: pointer;">
              <img src="profile.jpg" alt="User " class="rounded-circle me-1" width="40" height="40">
              <span class="student-name">{{ student.fname }} {{ student.lname }} {{ student.mname ? student.mname : '' }}</span>
          </div>
      </div>

      <!-- Announcements Section -->
      <h5 class="mt-2">Announcements</h5>
      <div id="announcementsContainer" class="scrollable-container">
          <!-- Loop through announcements array -->
          @for (ann of announcements; track ann) {
          <div class="announcement-section mt-2 p-3 shadow-sm">
              <div class="d-flex justify-content-between align-items-start">
                  <h5 class="announcement-title mb-2">{{ ann.title }}</h5>
                  <span class="announcement-date">{{ ann.created_at | date: 'medium' }}</span>
              </div>
              <p class="announcement-text mb-1">{{ ann.announcement }}</p>
          </div>
          }
      </div>
    </div>

    <div class="col-12 col-md-9 col-lg-10 p-0 main-content">
      <!-- Child Details Section -->
      <div class="chat-header d-flex align-items-center">
        <div class="child-info">
          <h3>{{selectedStudent.fname}} {{selectedStudent.mname}} {{selectedStudent.lname}}</h3>
          <p>LRN: {{ selectedStudent.LRN || 'N/A' }}</p>
          <p>Section/Strand: {{ selectedStudent.section?.section_name }} {{ selectedStudent.section?.strand }}</p>
          <p>Grade Level: {{ selectedStudent.section?.grade_level || 'N/A' }}</p>
        </div>
      </div>

      <!-- Navbar for tabs -->
      <nav class="navbar-container">
        <ul class="navbar nav">
          <li class="navbar-list">
            <a class="navlink" (click)="navigateToFinance()">
              <i class="bi bi-wallet-fill"></i>Financial Statement
            </a>
          </li>
          <li class="navbar-list">
            <a class="navlink" (click)="navigateToGrades()">
              <i class="bi bi-award"></i>Grades
            </a>
          </li>
          <li class="navbar-list">
            <a class="navlink" (click)="navigateToAttendance()">
              <i class="bi bi-activity"></i>Attendance Report
            </a>
          </li>
        </ul>
      </nav>

      <!-- Content for each section based on the selected tab -->
      <div class="content-section">
        <router-outlet></router-outlet>
      </div>
    </div>
  </div>
